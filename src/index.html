<!DOCTYPE html>
<html dir="ltr" lang="en" ui-theme="default">

<head>
  <meta charset="utf-8" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#1e2023" />
  <link rel="icon" type="image/x-icon" href="/assets/icon/favicon.ico" />

  <meta http-equiv="x-ua-compatible" content="IE=Edge" />

  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <title>Stencil Component Starter</title>

  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <link rel="stylesheet" href="/build/hakion-ui.css" />
  <script>
    // If `prefers-color-scheme` is not supported, fall back to light mode.
    // In this case, light.css will be downloaded with `highest` priority.
    if (window.matchMedia('(prefers-color-scheme)').media === 'not all') {
      document.documentElement.style.display = 'none';
      document.head.insertAdjacentHTML(
        'beforeend',
        '<link rel="stylesheet" href="light.css" onload="document.documentElement.style.display = ``">'
      );
    }
  </script>
  <script type="module">
    ((doc) => {
      const themeColor = doc.querySelector('meta[name="theme-color"]');
      const icon = doc.querySelector('link[rel="icon"]');
      const colorScheme = doc.querySelector('meta[name="color-scheme"]');
      const body = doc.body;
      doc.addEventListener('colorschemechange', (e) => {
        console.log('colorthemechange', e);
        // The event fires right before the color scheme goes into effect,
        // so we need the `color` value.
        themeColor.content = getComputedStyle(body).color;
        colorScheme.content = e.detail.colorScheme;
        body.setAttribute('mode', e.detail.colorScheme)
        icon.href = e.detail.colorScheme === 'dark' ? 'moon.png' : 'sun.png';
        console.log(`${e.target.id} changed the color scheme to ${e.detail.colorScheme}`);
      });
    })(document);
  </script>
  <script type="module" src="/build/hakion-ui.esm.js"></script>
  <script type="module" src="/lib/dark-mode-toggle.min.js"></script>
  <script nomodule src="/build/hakion-ui.js"></script>

</head>

<body>
  <hakion-dark-mode-toggle></hakion-dark-mode-toggle>
  <hakion-toggle-button>toggle</hakion-toggle-button>
  <hakion-button size="large" shape="round">
    Outside of app-root
  </hakion-button>
  <app-root>
    <hakion-button iconSlot="end" iconName="star"
      text="inside app-root from html, icon is not visible" color="success">
    </hakion-button>
    <hakion-button iconSlot="end" iconName="star" text="inside app-root from html" color="success">
    </hakion-button>
  </app-root>
  <example-scene></example-scene>
</body>

</html>